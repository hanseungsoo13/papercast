# ğŸ› ï¸ PaperCast ê°œë°œì ê°€ì´ë“œ

> **ëª©ì **: ì´ í”„ë¡œì íŠ¸ì˜ ì•„í‚¤í…ì²˜, ì„¤ê³„ ì›ì¹™, ê°œë°œ ë°©ë²•ì„ ì´í•´í•˜ê¸° ìœ„í•œ ê°œë°œì ëª…ì„¸ì„œ

## ğŸ“‹ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#í”„ë¡œì íŠ¸-ê°œìš”)
2. [ì•„í‚¤í…ì²˜](#ì•„í‚¤í…ì²˜)
3. [ë°ì´í„° íë¦„](#ë°ì´í„°-íë¦„)
4. [í•µì‹¬ ì»´í¬ë„ŒíŠ¸](#í•µì‹¬-ì»´í¬ë„ŒíŠ¸)
5. [ê°œë°œ í™˜ê²½ ì„¤ì •](#ê°œë°œ-í™˜ê²½-ì„¤ì •)
6. [í…ŒìŠ¤íŠ¸ ì „ëµ](#í…ŒìŠ¤íŠ¸-ì „ëµ)
7. [ë°°í¬ í”„ë¡œì„¸ìŠ¤](#ë°°í¬-í”„ë¡œì„¸ìŠ¤)
8. [ìœ ì§€ë³´ìˆ˜ ê°€ì´ë“œ](#ìœ ì§€ë³´ìˆ˜-ê°€ì´ë“œ)

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

### ëª©ì 
ë§¤ì¼ Hugging Face íŠ¸ë Œë”© ë…¼ë¬¸ Top 3ë¥¼ ìë™ìœ¼ë¡œ ìˆ˜ì§‘í•˜ì—¬ í•œêµ­ì–´ë¡œ ìš”ì•½í•˜ê³ , TTSë¡œ ë³€í™˜í•œ í›„ ì›¹ì—ì„œ ì¬ìƒ ê°€ëŠ¥í•œ íŒŸìºìŠ¤íŠ¸ë¡œ ì œê³µ

### í•µì‹¬ ê¸°ëŠ¥
- **ìë™í™”**: GitHub Actionsë¥¼ í†µí•œ ë§¤ì¼ ìë™ ì‹¤í–‰
- **AI ì²˜ë¦¬**: Gemini Pro ìš”ì•½ + Google TTS ìŒì„± ë³€í™˜
- **ì›¹ í”Œë«í¼**: ì •ì  ì‚¬ì´íŠ¸ ìƒì„± + GitHub Pages í˜¸ìŠ¤íŒ…
- **ì‚¬ìš©ì ê²½í—˜**: ì˜¤ë””ì˜¤ í”Œë ˆì´ì–´ + PDF ë·°ì–´ í†µí•©

### ê¸°ìˆ  ìŠ¤íƒ ìš”ì•½
- **ë°±ì—”ë“œ**: Python 3.12+ (FastAPI)
- **í”„ë¡ íŠ¸ì—”ë“œ**: Next.js 14 + React 18 + TypeScript
- **AI/ML**: Google Gemini Pro, Google Cloud TTS
- **ìŠ¤í† ë¦¬ì§€**: Google Cloud Storage
- **í˜¸ìŠ¤íŒ…**: Vercel (í”„ë¡ íŠ¸ì—”ë“œ), Google Cloud Run (ë°±ì—”ë“œ)
- **ìë™í™”**: GitHub Actions
- **ë°ì´í„°**: JSON íŒŒì¼ ê¸°ë°˜ (NoSQL)

---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

### ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GitHub Actions (ìŠ¤ì¼€ì¤„ëŸ¬)                  â”‚
â”‚                    ë§¤ì¼ 6AM KST ìë™ ì‹¤í–‰                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  PodcastPipeline (main.py)                   â”‚
â”‚                      6ë‹¨ê³„ íŒŒì´í”„ë¼ì¸                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€ Step 1: PaperCollector      (ë…¼ë¬¸ ìˆ˜ì§‘)
         â”‚          â†“ Hugging Face ì›¹ ìŠ¤í¬ë˜í•‘
         â”‚          â†“ BeautifulSoup íŒŒì‹±
         â”‚
         â”œâ”€ Step 2: Summarizer          (ìš”ì•½ ìƒì„±)
         â”‚          â†“ Gemini Pro API í˜¸ì¶œ
         â”‚          â†“ í•œêµ­ì–´ ìš”ì•½ (200ì ì´ë‚´)
         â”‚
         â”œâ”€ Step 3: TTSConverter         (ìŒì„± ë³€í™˜)
         â”‚          â†“ Google Cloud TTS API
         â”‚          â†“ MP3 íŒŒì¼ ìƒì„± (ë¡œì»¬)
         â”‚
         â”œâ”€ Step 4: GCSUploader          (í´ë¼ìš°ë“œ ì—…ë¡œë“œ)
         â”‚          â†“ Google Cloud Storage
         â”‚          â†“ ê³µê°œ URL ìƒì„±
         â”‚
         â”œâ”€ Step 5: Podcast.save()       (ë©”íƒ€ë°ì´í„° ì €ì¥)
         â”‚          â†“ data/podcasts/{date}.json
         â”‚
         â””â”€ Step 6: StaticSiteGenerator  (ì›¹ì‚¬ì´íŠ¸ ìƒì„±)
                    â†“ HTML/CSS/JS ìƒì„±
                    â†“ static-site/ ë””ë ‰í† ë¦¬
                    â†“ GitHub Pages ìë™ ë°°í¬
```

### í’€ìŠ¤íƒ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend (Next.js)                        â”‚
â”‚  â€¢ React 18 + TypeScript                                    â”‚
â”‚  â€¢ Server-Side Rendering                                    â”‚
â”‚  â€¢ API í”„ë¡ì‹œ (FastAPI ì—°ë™)                                â”‚
â”‚  â€¢ ë°˜ì‘í˜• UI + ì˜¤ë””ì˜¤ í”Œë ˆì´ì–´                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API Layer (FastAPI)                       â”‚
â”‚  â€¢ RESTful API ì—”ë“œí¬ì¸íŠ¸                                    â”‚
â”‚  â€¢ Pydantic ë°ì´í„° ê²€ì¦                                      â”‚
â”‚  â€¢ JSON íŒŒì¼ ê¸°ë°˜ ë°ì´í„° ì €ì¥ì†Œ                              â”‚
â”‚  â€¢ CORS ì„¤ì •                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Core Pipeline (Python)                     â”‚
â”‚  â€¢ ë…¼ë¬¸ ìˆ˜ì§‘ + AI ìš”ì•½ + TTS ë³€í™˜                            â”‚
â”‚  â€¢ Google Cloud Storage ì—…ë¡œë“œ                              â”‚
â”‚  â€¢ ì •ì  ì‚¬ì´íŠ¸ ìƒì„±                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì»´í¬ë„ŒíŠ¸ ë‹¤ì´ì–´ê·¸ë¨

```
papercast/
â”œâ”€â”€ src/                       # Core Python modules
â”‚   â”œâ”€â”€ models/               # ë°ì´í„° ëª¨ë¸ (Pydantic)
â”‚   â”‚   â”œâ”€â”€ paper.py          # Paper: ë…¼ë¬¸ ì •ë³´
â”‚   â”‚   â”œâ”€â”€ podcast.py        # Podcast: íŒŸìºìŠ¤íŠ¸ ë©”íƒ€ë°ì´í„°
â”‚   â”‚   â””â”€â”€ processing_log.py # ProcessingLog: ì²˜ë¦¬ ë¡œê·¸
â”‚   â”œâ”€â”€ services/             # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ collector.py      # ë…¼ë¬¸ ìˆ˜ì§‘ (ì›¹ ìŠ¤í¬ë˜í•‘)
â”‚   â”‚   â”œâ”€â”€ summarizer.py     # AI ìš”ì•½ (Gemini Pro)
â”‚   â”‚   â”œâ”€â”€ tts.py           # ìŒì„± ë³€í™˜ (Google TTS)
â”‚   â”‚   â”œâ”€â”€ uploader.py      # í´ë¼ìš°ë“œ ì—…ë¡œë“œ (GCS)
â”‚   â”‚   â””â”€â”€ generator.py      # ì •ì  ì‚¬ì´íŠ¸ ìƒì„±
â”‚   â”œâ”€â”€ utils/                # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”œâ”€â”€ logger.py         # ë¡œê¹… ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ config.py         # í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ retry.py          # ì¬ì‹œë„ ë¡œì§
â”‚   â””â”€â”€ main.py               # íŒŒì´í”„ë¼ì¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
â”œâ”€â”€ api/                      # FastAPI backend
â”‚   â”œâ”€â”€ routes/              # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ health.py        # í—¬ìŠ¤ ì²´í¬
â”‚   â”‚   â””â”€â”€ episodes.py      # ì—í”¼ì†Œë“œ API
â”‚   â”œâ”€â”€ schemas.py           # Pydantic ì‘ë‹µ ìŠ¤í‚¤ë§ˆ
â”‚   â”œâ”€â”€ repository.py        # ë°ì´í„° ì ‘ê·¼ ë ˆì´ì–´
â”‚   â”œâ”€â”€ dependencies.py      # FastAPI ì˜ì¡´ì„±
â”‚   â””â”€â”€ main.py              # FastAPI ì•±
â”œâ”€â”€ frontend/                 # Next.js frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/       # React ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ AudioPlayer.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ EpisodeCard.tsx
â”‚   â”‚   â”‚   â””â”€â”€ LoadingSpinner.tsx
â”‚   â”‚   â”œâ”€â”€ pages/           # Next.js í˜ì´ì§€
â”‚   â”‚   â”‚   â””â”€â”€ index.tsx    # í™ˆí˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ services/        # API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts       # API ì„œë¹„ìŠ¤
â”‚   â”‚   â”‚   â””â”€â”€ types.ts     # TypeScript íƒ€ì…
â”‚   â”‚   â””â”€â”€ styles/          # CSS ìŠ¤íƒ€ì¼
â”‚   â”œâ”€â”€ package.json         # Node.js ì˜ì¡´ì„±
â”‚   â””â”€â”€ next.config.js       # Next.js ì„¤ì •
â””â”€â”€ tests/                   # í…ŒìŠ¤íŠ¸ ìŠ¤ìœ„íŠ¸
    â”œâ”€â”€ unit/               # ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
    â”œâ”€â”€ integration/        # í†µí•© í…ŒìŠ¤íŠ¸
    â”œâ”€â”€ contract/           # ê³„ì•½ í…ŒìŠ¤íŠ¸
    â””â”€â”€ api/                # API í…ŒìŠ¤íŠ¸
```

---

## ğŸ”„ ë°ì´í„° íë¦„

### Step-by-Step ë°ì´í„° ë³€í™˜

#### 1. ë…¼ë¬¸ ìˆ˜ì§‘ (Raw HTML â†’ Paper ê°ì²´)

```python
# Input: Hugging Face HTML
<article data-paper-id="2510.19338">
    <h3>Every Attention Matters</h3>
    <div class="authors">
        <a>Author 1</a>, <a>Author 2</a>
    </div>
    <p class="abstract">We propose...</p>
</article>

# Process: collector.py
def _parse_paper_from_html(self, article_elem) -> Paper:
    title = article_elem.find('h3').text.strip()
    authors = [a.text.strip() for a in article_elem.find_all('a')]
    abstract = article_elem.find('p', class_='abstract').text.strip()
    arxiv_id = self._extract_arxiv_id(article_elem)
    
    return Paper(
        id=arxiv_id,
        title=title,
        authors=authors,
        abstract=abstract,
        arxiv_id=arxiv_id,
        url=f"https://huggingface.co/papers/{arxiv_id}"
    )

# Output: Paper ê°ì²´
Paper(
    id="2510.19338",
    title="Every Attention Matters",
    authors=["Author 1", "Author 2"],
    abstract="We propose...",
    arxiv_id="2510.19338",
    url="https://huggingface.co/papers/2510.19338"
)
```

#### 2. ìš”ì•½ ìƒì„± (Paper â†’ Paper + Summary)

```python
# Input: Paper ê°ì²´ (ìš”ì•½ ì—†ìŒ)
paper = Paper(title="...", abstract="...")

# Process: summarizer.py
prompt = f"""
ë‹¤ìŒ ë…¼ë¬¸ì„ 200ì ì´ë‚´ë¡œ í•œêµ­ì–´ë¡œ ìš”ì•½í•˜ì„¸ìš”:
ì œëª©: {paper.title}
ì´ˆë¡: {paper.abstract}
"""

response = genai.GenerativeModel('gemini-pro').generate_content(prompt)
summary = response.text[:200]

# Output: Paper + summary
paper.summary = "ì´ ë…¼ë¬¸ì€ ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì˜ ì¶”ë¡  ì„±ëŠ¥ì„..."
```

#### 3. TTS ë³€í™˜ (Text â†’ MP3)

```python
# Input: ë…¼ë¬¸ ìš”ì•½ í…ìŠ¤íŠ¸
script = f"""
ì˜¤ëŠ˜ì˜ ì²« ë²ˆì§¸ ë…¼ë¬¸ì€ {paper.title}ì…ë‹ˆë‹¤.
{paper.summary}
"""

# Process: tts.py
synthesis_input = texttospeech.SynthesisInput(text=script)
voice = texttospeech.VoiceSelectionParams(
    language_code="ko-KR",
    name="ko-KR-Neural2-A"
)
audio_config = texttospeech.AudioConfig(
    audio_encoding=texttospeech.AudioEncoding.MP3
)

response = tts_client.synthesize_speech(
    input=synthesis_input,
    voice=voice,
    audio_config=audio_config
)

# Output: MP3 íŒŒì¼
with open("data/audio/2025-10-25/episode.mp3", "wb") as f:
    f.write(response.audio_content)
```

#### 4. í´ë¼ìš°ë“œ ì—…ë¡œë“œ (Local MP3 â†’ Public URL)

```python
# Input: ë¡œì»¬ MP3 íŒŒì¼
local_path = "data/audio/2025-10-25/episode.mp3"

# Process: uploader.py
blob_name = "2025-10-25/episode.mp3"
bucket = storage_client.bucket(bucket_name)
blob = bucket.blob(blob_name)
blob.upload_from_filename(local_path)
blob.make_public()

# Output: ê³µê°œ URL
public_url = f"https://storage.googleapis.com/{bucket_name}/{blob_name}"
# "https://storage.googleapis.com/papers_ethan/2025-10-25/episode.mp3"
```

#### 5. ë©”íƒ€ë°ì´í„° ì €ì¥ (Podcast â†’ JSON)

```python
# Input: Podcast ê°ì²´
podcast = Podcast(
    id="2025-10-25",
    title="Daily AI Papers - 2025-10-25",
    papers=[paper1, paper2, paper3],
    audio_file_path="https://storage.googleapis.com/.../episode.mp3",
    audio_duration=627,
    audio_size=5026816
)

# Process: podcast.save()
podcast_dict = podcast.dict()
with open(f"data/podcasts/{podcast.id}.json", "w") as f:
    json.dump(podcast_dict, f, ensure_ascii=False, indent=2)

# Output: JSON íŒŒì¼
{
  "id": "2025-10-25",
  "audio_file_path": "https://storage.googleapis.com/.../episode.mp3",
  "papers": [...]
}
```

#### 6. ì›¹ì‚¬ì´íŠ¸ ìƒì„± (JSON â†’ HTML)

```python
# Input: Podcast JSON íŒŒì¼ë“¤
podcasts = load_podcasts_from_json("data/podcasts/")

# Process: generator.py
def _generate_episode_page(self, podcast):
    html = f'''
    <audio controls>
        <source src="{podcast.audio_file_path}">
    </audio>
    
    {self._generate_paper_cards(podcast.papers)}
    '''
    
    with open(f"static-site/episodes/{podcast.id}.html", "w") as f:
        f.write(html)

# Output: ì •ì  HTML íŒŒì¼
static-site/
â”œâ”€â”€ index.html
â”œâ”€â”€ episodes/
â”‚   â””â”€â”€ 2025-10-25.html
â””â”€â”€ assets/
    â”œâ”€â”€ css/styles.css
    â””â”€â”€ js/script.js
```

---

## ğŸ”§ í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ìƒì„¸

### 1. PaperCollector (ë…¼ë¬¸ ìˆ˜ì§‘ê¸°)

**íŒŒì¼**: `src/services/collector.py`

**ì—­í• **: Hugging Face ë…¼ë¬¸ í˜ì´ì§€ì—ì„œ Top 3 ë…¼ë¬¸ ìŠ¤í¬ë˜í•‘

**í•µì‹¬ ë¡œì§**:
```python
class PaperCollector:
    def fetch_papers(self, target_date: str = None) -> List[Paper]:
        """ì–´ì œ ë‚ ì§œì˜ Top 3 ë…¼ë¬¸ ìˆ˜ì§‘"""
        
        # 1. ë‚ ì§œ ê³„ì‚° (ì–´ì œ)
        date = (datetime.now() - timedelta(days=1)).strftime("%Y-%m-%d")
        
        # 2. Hugging Face í˜ì´ì§€ ìš”ì²­
        url = f"https://huggingface.co/papers/date/{date}"
        response = requests.get(url)
        
        # 3. HTML íŒŒì‹±
        soup = BeautifulSoup(response.text, 'html.parser')
        articles = soup.find_all('article', limit=3)
        
        # 4. Paper ê°ì²´ ìƒì„±
        papers = []
        for article in articles:
            paper = self._parse_paper_from_html(article)
            papers.append(paper)
        
        return papers
    
    def _extract_arxiv_id(self, article) -> str:
        """ArXiv ID ì¶”ì¶œ (ì˜ˆ: 2510.19338)"""
        # data-paper-id ì†ì„±ì—ì„œ ì¶”ì¶œ
        return article.get('data-paper-id', '')
```

**ì—ëŸ¬ ì²˜ë¦¬**:
- `@retry(max_attempts=3)`: ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì‹œ ì¬ì‹œë„
- BeautifulSoup íŒŒì‹± ì‹¤íŒ¨ ì‹œ ë¡œê¹… ë° ìŠ¤í‚µ

---

### 2. Summarizer (ìš”ì•½ ìƒì„±ê¸°)

**íŒŒì¼**: `src/services/summarizer.py`

**ì—­í• **: Gemini Proë¥¼ ì‚¬ìš©í•œ í•œêµ­ì–´ ìš”ì•½ ìƒì„±

**í•µì‹¬ ë¡œì§**:
```python
class Summarizer:
    def __init__(self, api_key: str):
        genai.configure(api_key=api_key)
        self.model = genai.GenerativeModel('gemini-pro')
    
    def summarize_paper(self, paper: Paper) -> str:
        """ë…¼ë¬¸ì„ 200ì ì´ë‚´ë¡œ ìš”ì•½"""
        
        prompt = f"""
        ë‹¤ìŒ AI ë…¼ë¬¸ì„ 200ì ì´ë‚´ë¡œ í•œêµ­ì–´ë¡œ ìš”ì•½í•´ì£¼ì„¸ìš”:
        
        ì œëª©: {paper.title}
        ì €ì: {', '.join(paper.authors[:3])}
        ì´ˆë¡: {paper.abstract[:500]}
        
        ìš”ì•½ í˜•ì‹:
        - í•µì‹¬ ë‚´ìš©
        - ì—°êµ¬ ë°©ë²•
        - ê¸°ëŒ€ íš¨ê³¼
        """
        
        response = self.model.generate_content(prompt)
        summary = response.text.strip()
        
        # ê¸¸ì´ ì œí•œ (200ì)
        if len(summary) > 200:
            summary = summary[:197] + "..."
        
        return summary
```

**í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§**:
- ëª…í™•í•œ ì§€ì‹œì‚¬í•­ (í•œêµ­ì–´, 200ì ì œí•œ)
- êµ¬ì¡°í™”ëœ ì¶œë ¥ ìš”ì²­ (í•µì‹¬ ë‚´ìš©, ë°©ë²•, íš¨ê³¼)
- ì»¨í…ìŠ¤íŠ¸ ì œí•œ (ì´ˆë¡ 500ìê¹Œì§€ë§Œ ì‚¬ìš©)

---

### 3. TTSConverter (ìŒì„± ë³€í™˜ê¸°)

**íŒŒì¼**: `src/services/tts.py`

**ì—­í• **: Google Cloud TTSë¥¼ ì‚¬ìš©í•œ MP3 ìƒì„±

**í•µì‹¬ ë¡œì§**:
```python
class TTSConverter:
    def __init__(self, credentials_path: str):
        self.client = texttospeech.TextToSpeechClient.from_service_account_json(
            credentials_path
        )
    
    def convert_to_speech(self, papers: List[Paper]) -> str:
        """ìš”ì•½ë¬¸ì„ ìŒì„±ìœ¼ë¡œ ë³€í™˜"""
        
        # 1. ìŠ¤í¬ë¦½íŠ¸ ìƒì„±
        script = self._generate_script(papers)
        
        # 2. TTS ìš”ì²­ êµ¬ì„±
        synthesis_input = texttospeech.SynthesisInput(text=script)
        voice = texttospeech.VoiceSelectionParams(
            language_code="ko-KR",
            name="ko-KR-Neural2-A",  # Neural2: ìì—°ìŠ¤ëŸ¬ìš´ ìŒì„±
            ssml_gender=texttospeech.SsmlVoiceGender.FEMALE
        )
        audio_config = texttospeech.AudioConfig(
            audio_encoding=texttospeech.AudioEncoding.MP3,
            speaking_rate=1.0,  # ì¼ë°˜ ì†ë„
            pitch=0.0           # ê¸°ë³¸ í”¼ì¹˜
        )
        
        # 3. ìŒì„± í•©ì„±
        response = self.client.synthesize_speech(
            input=synthesis_input,
            voice=voice,
            audio_config=audio_config
        )
        
        # 4. MP3 ì €ì¥
        output_path = f"data/audio/{date}/episode.mp3"
        with open(output_path, "wb") as f:
            f.write(response.audio_content)
        
        return output_path
    
    def _generate_script(self, papers: List[Paper]) -> str:
        """ìì—°ìŠ¤ëŸ¬ìš´ íŒŸìºìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±"""
        script = "ì•ˆë…•í•˜ì„¸ìš”, ì˜¤ëŠ˜ì˜ AI ë…¼ë¬¸ íŒŸìºìŠ¤íŠ¸ì…ë‹ˆë‹¤.\n\n"
        
        for i, paper in enumerate(papers, 1):
            script += f"{i}ë²ˆì§¸ ë…¼ë¬¸ì€ {paper.title}ì…ë‹ˆë‹¤. "
            script += f"{paper.summary}\n\n"
        
        script += "ì˜¤ëŠ˜ì˜ AI ë…¼ë¬¸ ì†Œê°œë¥¼ ë§ˆì¹˜ê² ìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤."
        return script
```

**ìµœì í™”**:
- Neural2 ë³´ì´ìŠ¤ ì‚¬ìš© (ë” ìì—°ìŠ¤ëŸ¬ìš´ ìŒì„±)
- ì ì ˆí•œ ì†ë„ì™€ í”¼ì¹˜ ì„¤ì •
- ë¬¸ì¥ ì‚¬ì´ ìì—°ìŠ¤ëŸ¬ìš´ pause

---

### 4. StaticSiteGenerator (ì‚¬ì´íŠ¸ ìƒì„±ê¸°)

**íŒŒì¼**: `src/services/generator.py`

**ì—­í• **: ì •ì  HTML/CSS/JS ì›¹ì‚¬ì´íŠ¸ ìƒì„±

**í•µì‹¬ ë¡œì§**:
```python
class StaticSiteGenerator:
    def generate_site(self, podcasts: List[Podcast]):
        """ì „ì²´ ì‚¬ì´íŠ¸ ìƒì„±"""
        
        # 1. ë””ë ‰í† ë¦¬ ìƒì„±
        self._create_directories()
        
        # 2. ë©”ì¸ í˜ì´ì§€ (ì—í”¼ì†Œë“œ ëª©ë¡)
        self._generate_index_page(podcasts)
        
        # 3. ê°œë³„ ì—í”¼ì†Œë“œ í˜ì´ì§€
        for podcast in podcasts:
            self._generate_episode_page(podcast)
        
        # 4. JSON API
        self._generate_podcast_index(podcasts)
        
        # 5. CSS/JS
        self._generate_styles()
        self._generate_scripts()
    
    def _generate_episode_page(self, podcast: Podcast):
        """ì—í”¼ì†Œë“œ ìƒì„¸ í˜ì´ì§€ ìƒì„±"""
        
        # ì˜¤ë””ì˜¤ í”Œë ˆì´ì–´ HTML
        audio_html = f'''
        <audio id="podcast-audio" controls>
            <source src="{podcast.audio_file_path}" type="audio/mpeg">
        </audio>
        '''
        
        # ë…¼ë¬¸ ì¹´ë“œ HTML
        papers_html = self._generate_paper_cards(podcast.papers)
        
        # Split View HTML (PDF ë·°ì–´)
        split_view_html = self._generate_split_view()
        
        # ì „ì²´ HTML ì¡°í•©
        html = self._build_html_template(
            title=podcast.title,
            audio=audio_html,
            papers=papers_html,
            split_view=split_view_html
        )
        
        # íŒŒì¼ ì €ì¥
        output_path = self.output_dir / f"episodes/{podcast.id}.html"
        with open(output_path, "w", encoding="utf-8") as f:
            f.write(html)
```

**ì¤‘ìš” ì„¤ê³„ ê²°ì •**:
1. **ì™„ì „ ì •ì **: ë°±ì—”ë“œ ì„œë²„ ë¶ˆí•„ìš”
2. **CDN ì¹œí™”ì **: ëª¨ë“  ë¦¬ì†ŒìŠ¤ê°€ ì •ì  íŒŒì¼
3. **ì˜¤í”„ë¼ì¸ í˜¸í™˜**: Service Worker ì¶”ê°€ ê°€ëŠ¥
4. **SEO ìµœì í™”**: ë©”íƒ€ íƒœê·¸ í¬í•¨

---

## ğŸ’» ê°œë°œ í™˜ê²½ ì„¤ì •

### ë¡œì»¬ ê°œë°œ í™˜ê²½

#### 1. í”„ë¡œì íŠ¸ í´ë¡  ë° ì˜ì¡´ì„± ì„¤ì¹˜

```bash
# 1. ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/hanseungsoo13/papercast.git
cd papercast

# 2. Python ê°€ìƒí™˜ê²½ ìƒì„± (Python 3.11+)
python -m venv .venv
source .venv/bin/activate  # Linux/Mac
# .venv\Scripts\activate  # Windows

# 3. ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# ë˜ëŠ” uv ì‚¬ìš© (ê¶Œì¥)
pip install uv
uv sync
```

#### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
# .env íŒŒì¼ ìƒì„±
cat > .env << EOF
# Gemini API Key
GEMINI_API_KEY=your_gemini_api_key_here

# Google Cloud ì¸ì¦
GOOGLE_APPLICATION_CREDENTIALS=./credentials/service-account.json

# GCS ë²„í‚·
GCS_BUCKET_NAME=papercast-podcasts

# ê¸°íƒ€ ì„¤ì •
TZ=Asia/Seoul
LOG_LEVEL=INFO
EOF

# GCP ì„œë¹„ìŠ¤ ê³„ì • í‚¤ ì €ì¥
mkdir -p credentials
# service-account.json íŒŒì¼ì„ credentials/ í´ë”ì— ì €ì¥
```

#### 3. ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
# ë°©ë²• 1: ì „ì²´ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ (ì²˜ìŒ í•œ ë²ˆ)
python run.py

# ë°©ë²• 2: ê°œë°œ ì„œë²„ë§Œ ì‹¤í–‰
python dev_server.py

# ë°©ë²• 3: ì‚¬ì´íŠ¸ ì¬ìƒì„± + ì„œë²„ ì‹¤í–‰
python scripts/dev-regenerate.py
python dev_server.py
```

### IDE ì„¤ì • (VSCode/Cursor)

**.vscode/settings.json**:
```json
{
  "python.defaultInterpreterPath": ".venv/bin/python",
  "python.linting.enabled": true,
  "python.linting.pylintEnabled": true,
  "python.formatting.provider": "black",
  "python.testing.pytestEnabled": true,
  "python.testing.unittestEnabled": false,
  "editor.formatOnSave": true,
  "files.exclude": {
    "**/__pycache__": true,
    "**/*.pyc": true,
    ".pytest_cache": true
  }
}
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì „ëµ

### í…ŒìŠ¤íŠ¸ ê³„ì¸µ

```
tests/
â”œâ”€â”€ unit/                      # ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (ê°œë³„ í•¨ìˆ˜/í´ë˜ìŠ¤)
â”‚   â”œâ”€â”€ test_collector.py     # PaperCollector í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ test_summarizer.py    # Summarizer í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ test_tts.py            # TTSConverter í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ test_generator.py     # StaticSiteGenerator í…ŒìŠ¤íŠ¸
â”‚
â”œâ”€â”€ integration/               # í†µí•© í…ŒìŠ¤íŠ¸ (ì»´í¬ë„ŒíŠ¸ ê°„ ìƒí˜¸ì‘ìš©)
â”‚   â””â”€â”€ test_pipeline.py      # ì „ì²´ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸
â”‚
â”œâ”€â”€ contract/                  # Contract í…ŒìŠ¤íŠ¸ (ì™¸ë¶€ API)
â”‚   â”œâ”€â”€ test_gemini_api.py    # Gemini Pro API í…ŒìŠ¤íŠ¸
â”‚   â”œâ”€â”€ test_google_tts.py    # Google TTS API í…ŒìŠ¤íŠ¸
â”‚   â””â”€â”€ test_gcs.py            # GCS API í…ŒìŠ¤íŠ¸
â”‚
â””â”€â”€ e2e/                       # E2E í…ŒìŠ¤íŠ¸ (ì›¹ì‚¬ì´íŠ¸)
    â””â”€â”€ test_website.py        # ìƒì„±ëœ ì›¹ì‚¬ì´íŠ¸ í…ŒìŠ¤íŠ¸
```

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# ì „ì²´ í…ŒìŠ¤íŠ¸
pytest

# ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë§Œ
pytest tests/unit/ -v

# ì»¤ë²„ë¦¬ì§€ í¬í•¨
pytest --cov=src --cov-report=html

# íŠ¹ì • í…ŒìŠ¤íŠ¸ íŒŒì¼
pytest tests/unit/test_collector.py -v

# íŠ¹ì • í…ŒìŠ¤íŠ¸ í•¨ìˆ˜
pytest tests/unit/test_collector.py::test_fetch_papers -v
```

### Mock ì‚¬ìš© ì˜ˆì‹œ

```python
# tests/unit/test_collector.py
from unittest.mock import Mock, patch
import pytest

@patch('requests.get')
def test_fetch_papers_success(mock_get):
    """ë…¼ë¬¸ ìˆ˜ì§‘ ì„±ê³µ í…ŒìŠ¤íŠ¸"""
    
    # Mock HTML ì‘ë‹µ ì„¤ì •
    mock_response = Mock()
    mock_response.text = """
    <article data-paper-id="2510.19338">
        <h3>Test Paper Title</h3>
        <div class="authors">
            <a>Author One</a>
            <a>Author Two</a>
        </div>
        <p class="abstract">This is a test abstract.</p>
    </article>
    """
    mock_get.return_value = mock_response
    
    # í…ŒìŠ¤íŠ¸ ì‹¤í–‰
    collector = PaperCollector()
    papers = collector.fetch_papers("2025-10-25")
    
    # ê²€ì¦
    assert len(papers) == 1
    assert papers[0].title == "Test Paper Title"
    assert len(papers[0].authors) == 2
```

---

## ğŸš€ ë°°í¬ í”„ë¡œì„¸ìŠ¤

### GitHub Actions ì›Œí¬í”Œë¡œìš°

**íŒŒì¼**: `.github/workflows/daily-podcast.yml`

```yaml
name: Daily Podcast Generation

on:
  schedule:
    - cron: '0 21 * * *'  # ë§¤ì¼ 6AM KST
  workflow_dispatch:

jobs:
  generate-and-deploy:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      
      - name: Setup Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11'
      
      - name: Install dependencies
        run: pip install -r requirements.txt
      
      - name: Setup credentials
        env:
          GCP_KEY: ${{ secrets.GCP_SERVICE_ACCOUNT_KEY }}
        run: |
          echo "$GCP_KEY" | base64 -d > credentials/service-account.json
      
      - name: Run pipeline
        env:
          GEMINI_API_KEY: ${{ secrets.GEMINI_API_KEY }}
          GOOGLE_APPLICATION_CREDENTIALS: credentials/service-account.json
          GCS_BUCKET_NAME: ${{ secrets.GCS_BUCKET_NAME }}
        run: python run.py
      
      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./static-site
          publish_branch: gh-pages
```

### ë°°í¬ íë¦„

```
1. GitHub Actions íŠ¸ë¦¬ê±° (ë§¤ì¼ 6AM)
   â†“
2. ì „ì²´ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰ (ë…¼ë¬¸ ìˆ˜ì§‘ â†’ ì‚¬ì´íŠ¸ ìƒì„±)
   â†“
3. static-site/ ë””ë ‰í† ë¦¬ ìƒì„±
   â†“
4. gh-pages ë¸Œëœì¹˜ì— ìë™ í‘¸ì‹œ
   â†“
5. GitHub Pagesê°€ ìë™ ë°°í¬
   â†“
6. https://username.github.io/papercast ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥
```

---

## ğŸ”§ ìœ ì§€ë³´ìˆ˜ ê°€ì´ë“œ

### ë¡œê·¸ í™•ì¸

```bash
# ë¡œì»¬ ë¡œê·¸
cat data/logs/pipeline_YYYYMMDD.log

# GitHub Actions ë¡œê·¸
# Repository â†’ Actions â†’ ì›Œí¬í”Œë¡œìš° ì„ íƒ â†’ ë¡œê·¸ í™•ì¸
```

### ì—ëŸ¬ ëŒ€ì‘

#### 1. ë…¼ë¬¸ ìˆ˜ì§‘ ì‹¤íŒ¨
```python
# collector.pyì—ì„œ ì—ëŸ¬ ë°œìƒ ì‹œ
# ì›ì¸: Hugging Face HTML êµ¬ì¡° ë³€ê²½
# í•´ê²°: HTML ì…€ë ‰í„° ì—…ë°ì´íŠ¸

# ë””ë²„ê¹…
response = requests.get(url)
with open('debug.html', 'w') as f:
    f.write(response.text)
# HTML êµ¬ì¡° í™•ì¸ í›„ íŒŒì‹± ë¡œì§ ìˆ˜ì •
```

#### 2. API í• ë‹¹ëŸ‰ ì´ˆê³¼
```bash
# Gemini Pro: 60 requests/minute
# Google TTS: 100 requests/minute
# GCS: 5000 writes/day

# í•´ê²°: ì¬ì‹œë„ ë¡œì§ + ë°±ì˜¤í”„
@retry(max_attempts=3, backoff_factor=2)
def api_call():
    pass
```

#### 3. ì‚¬ì´íŠ¸ ìƒì„± ì‹¤íŒ¨
```bash
# ì›ì¸: JSON íŒŒì¼ ì†ìƒ
# í•´ê²°: ë°±ì—…ì—ì„œ ë³µêµ¬

cp data/podcasts/2025-10-25.json.backup \
   data/podcasts/2025-10-25.json

python scripts/dev-regenerate.py
```

### ì„±ëŠ¥ ìµœì í™”

#### 1. ë³‘ë ¬ ì²˜ë¦¬
```python
# í˜„ì¬: ìˆœì°¨ ì²˜ë¦¬
for paper in papers:
    summary = summarizer.summarize(paper)

# ê°œì„ : ë³‘ë ¬ ì²˜ë¦¬
from concurrent.futures import ThreadPoolExecutor

with ThreadPoolExecutor(max_workers=3) as executor:
    summaries = list(executor.map(summarizer.summarize, papers))
```

#### 2. ìºì‹±
```python
# ë‹¹ì¼ ë°ì´í„° ìºì‹±
import functools

@functools.lru_cache(maxsize=128)
def fetch_papers(date: str):
    # ê°™ì€ ë‚ ì§œ ìš”ì²­ ì‹œ ìºì‹œ ì‚¬ìš©
    pass
```

---

## ğŸ“š ì¶”ê°€ ë¦¬ì†ŒìŠ¤

### ì½”ë“œ ìŠ¤íƒ€ì¼ ê°€ì´ë“œ
- PEP 8 ì¤€ìˆ˜
- Black í¬ë§·í„° ì‚¬ìš©
- íƒ€ì… íŒíŠ¸ ê¶Œì¥

### Git ì»¤ë°‹ ì»¨ë²¤ì…˜
```
feat: ìƒˆ ê¸°ëŠ¥ ì¶”ê°€
fix: ë²„ê·¸ ìˆ˜ì •
docs: ë¬¸ì„œ ë³€ê²½
style: ì½”ë“œ í¬ë§·íŒ…
refactor: ë¦¬íŒ©í† ë§
test: í…ŒìŠ¤íŠ¸ ì¶”ê°€/ìˆ˜ì •
chore: ë¹Œë“œ/ì„¤ì • ë³€ê²½
```

### ì°¸ê³  ë¬¸ì„œ
- [TECHNICAL_STACK.md](TECHNICAL_STACK.md) - ê¸°ìˆ  ìŠ¤íƒ ìƒì„¸
- [docs/deployment.md](docs/deployment.md) - ë°°í¬ ê°€ì´ë“œ
- [docs/testing.md](docs/testing.md) - í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ

---

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'feat: add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-10-25
**ë²„ì „**: 1.0.0

